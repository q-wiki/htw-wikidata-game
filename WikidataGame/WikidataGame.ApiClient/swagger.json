{"swagger":"2.0","info":{"version":"v1","title":"Wikidata Game API"},"paths":{"/api/Auth":{"get":{"tags":["Auth"],"summary":"Authenticates a player using username/password","operationId":"Authenticate","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"X-Username","in":"header","description":"Username (min. 3 chars)","required":false,"type":"string"},{"name":"X-Password","in":"header","description":"Password (min. 8 chars)","required":false,"type":"string"},{"name":"X-Push-Token","in":"header","description":"push token generated through firebase/apns","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/AuthInfo"}}}}},"/api/Auth/Google":{"get":{"tags":["Auth"],"summary":"Authenticates a player using Google Play Services","operationId":"AuthenticateGooglePlay","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"X-Username","in":"header","description":"Username (min. 3 chars)","required":false,"type":"string"},{"name":"X-Auth-Code","in":"header","description":"backend auth code","required":false,"type":"string"},{"name":"X-Push-Token","in":"header","description":"push token generated through firebase/apns","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/AuthInfo"}}}}},"/api/Friends":{"get":{"tags":["Friends"],"summary":"Retrieves the friendlist for the signed in user","operationId":"GetFriends","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Player"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":[]}]},"post":{"tags":["Friends"],"summary":"Adds a user as a friend","operationId":"PostFriend","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"friendId","in":"query","description":"The user id of the player that should be added","required":false,"type":"string","format":"uuid"}],"responses":{"201":{"description":"Success","schema":{"$ref":"#/definitions/Player"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":[]}]}},"/api/Friends/{friendId}":{"delete":{"tags":["Friends"],"summary":"Removes a friend from the friend list","operationId":"DeleteFriend","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"friendId","in":"path","description":"User id of the friend to be removed","required":true,"type":"string","format":"uuid"}],"responses":{"204":{"description":"Success","schema":{"$ref":"#/definitions/Player"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":[]}]}},"/api/Friends/Find":{"get":{"tags":["Friends"],"summary":"Retrieves users (limit 10) with a username similar to the query string","operationId":"GetFindFriends","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"query","in":"query","description":"Username or part of a username (min. 3 characters)","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Player"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":[]}]}},"/api/Games":{"get":{"tags":["Games"],"summary":"Retrieves all currently running games for the authenticated player","operationId":"GetGames","consumes":[],"produces":["application/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/GameInfo"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":[]}]},"post":{"tags":["Games"],"summary":"Creates a new game and matches the player with an opponent","operationId":"CreateNewGame","consumes":[],"produces":["application/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/GameInfo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":[]}]}},"/api/Games/{gameId}":{"get":{"tags":["Games"],"summary":"Retrieves information on the specified game","operationId":"RetrieveGameState","consumes":[],"produces":["application/json"],"parameters":[{"name":"gameId","in":"path","description":"game identifier","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Game"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":[]}]},"delete":{"tags":["Games"],"summary":"Stops/deletes the specified game","operationId":"DeleteGame","consumes":[],"produces":["application/json"],"parameters":[{"name":"gameId","in":"path","description":"game identifier","required":true,"type":"string","format":"uuid"}],"responses":{"204":{"description":"Success"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":[]}]}},"/api/games/{gameId}/minigames":{"post":{"tags":["Minigames"],"summary":"Initializes a new minigame","operationId":"InitalizeMinigame","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"gameId","in":"path","description":"game identifier","required":true,"type":"string","format":"uuid"},{"name":"minigameParams","in":"body","description":"minigame information containing category and tile identifier","required":false,"schema":{"$ref":"#/definitions/MiniGameInit"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/MiniGame"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":[]}]}},"/api/games/{gameId}/minigames/{minigameId}":{"get":{"tags":["Minigames"],"summary":"Retrieves the details of the specified minigame","operationId":"RetrieveMinigameInfo","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"gameId","in":"path","description":"game identifier","required":true,"type":"string","format":"uuid"},{"name":"minigameId","in":"path","description":"minigame identifier","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/MiniGame"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":[]}]},"post":{"tags":["Minigames"],"summary":"Post the answer(s) to the specified minigame","operationId":"AnswerMinigame","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"gameId","in":"path","description":"game identifier","required":true,"type":"string","format":"uuid"},{"name":"minigameId","in":"path","description":"minigame identifier","required":true,"type":"string","format":"uuid"},{"name":"answers","in":"body","description":"answer(s)","required":false,"schema":{"uniqueItems":false,"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/MiniGameResult"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":[]}]}}},"definitions":{"AuthInfo":{"type":"object","properties":{"bearer":{"type":"string"},"expires":{"format":"date-time","type":"string"},"user":{"$ref":"#/definitions/Player"}}},"Player":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"profileImage":{"type":"string"}}},"GameInfo":{"type":"object","properties":{"gameId":{"type":"string"},"isAwaitingOpponentToJoin":{"type":"boolean"},"message":{"type":"string"}}},"Game":{"type":"object","properties":{"id":{"type":"string"},"tiles":{"uniqueItems":false,"type":"array","items":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Tile"}}},"winningPlayerIds":{"uniqueItems":false,"type":"array","items":{"type":"string"}},"me":{"$ref":"#/definitions/Player"},"opponent":{"$ref":"#/definitions/Player"},"nextMovePlayerId":{"type":"string"},"moveExpiry":{"format":"date-time","type":"string"},"awaitingOpponentToJoin":{"type":"boolean"}}},"Tile":{"type":"object","properties":{"id":{"type":"string"},"chosenCategoryId":{"type":"string"},"availableCategories":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Category"}},"difficulty":{"format":"int32","type":"integer"},"ownerId":{"type":"string"}}},"Category":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"}}},"MiniGameInit":{"type":"object","properties":{"tileId":{"type":"string"},"categoryId":{"type":"string"}}},"MiniGame":{"type":"object","properties":{"id":{"type":"string"},"type":{"format":"int32","enum":[0,1,2],"type":"integer"},"taskDescription":{"type":"string"},"answerOptions":{"uniqueItems":false,"type":"array","items":{"type":"string"}}}},"MiniGameResult":{"type":"object","properties":{"isWin":{"type":"boolean"},"correctAnswer":{"uniqueItems":false,"type":"array","items":{"type":"string"}},"tiles":{"uniqueItems":false,"type":"array","items":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Tile"}}},"nextMovePlayerId":{"type":"string"}}}},"securityDefinitions":{"oauth2":{"name":"Authorization","in":"header","type":"apiKey","description":"JWT Authorization header using the Bearer scheme. Example: \"Authorization: Bearer {token}\""}}}